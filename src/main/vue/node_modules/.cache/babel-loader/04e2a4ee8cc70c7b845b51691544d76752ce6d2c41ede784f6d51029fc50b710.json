{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_BAlert = _resolveComponent(\"BAlert\");\n  const _component_BOverlay = _resolveComponent(\"BOverlay\");\n  const _component_BFormSelect = _resolveComponent(\"BFormSelect\");\n  const _component_BFormGroup = _resolveComponent(\"BFormGroup\");\n  const _component_BCard = _resolveComponent(\"BCard\");\n  return _withDirectives((_openBlock(), _createBlock(_component_BCard, {\n    title: \"TCU Setup\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_BAlert, {\n      \"model-value\": $data.retrieveResult !== '',\n      variant: $data.errmsg,\n      show: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.retrieveResult), 1)]),\n      _: 1\n    }, 8, [\"model-value\", \"variant\"]), _createVNode(_component_BOverlay, {\n      show: $data.loading,\n      variant: \"light\",\n      opacity: \"0.6\",\n      rounded: \"sm\"\n    }, null, 8, [\"show\"]), _createVNode(_component_BCard, {\n      notitle: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_BFormGroup, {\n        \"label-cols-sm\": \"5\",\n        \"label-align-sm\": \"end\",\n        label: \"Kies de TCU:\",\n        \"label-for\": \"input-1\",\n        \"content-cols-sm\": \"2\",\n        class: \"text-size\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_BFormSelect, {\n          id: \"input-1\",\n          modelValue: $data.tcu,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.tcu = $event),\n          options: $data.tcus,\n          class: \"text-size\"\n        }, null, 8, [\"modelValue\", \"options\"])]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  }, 512)), [[_vShow, $props.showPage]]);\n}","map":{"version":3,"mappings":";;;;;;;wCACEA,aAQQC;IARDC,KAAK,EAAC;EAAW;sBACtB,MAAiG,CAAjGC,aAAiGC;MAAxF,aAAW,EAAEC,oBAAc;MAAUC,OAAO,EAAED,YAAM;MAAEE,IAAI,EAAJ;;wBAAK,MAAoB,mCAAjBF,oBAAc;;uCACrFF,aAAgFK;MAArED,IAAI,EAAEF,aAAO;MAAEC,OAAO,EAAC,OAAO;MAACG,OAAO,EAAC,KAAK;MAACC,OAAO,EAAC;2BAChEP,aAIUF;MAJHU,OAAO,EAAP;IAAO;wBACV,MAEa,CAFbR,aAEaS;QAFD,eAAa,EAAC,GAAG;QAAC,gBAAc,EAAC,KAAK;QAACC,KAAK,EAAC,cAAc;QAAC,WAAS,EAAC,SAAS;QAAC,iBAAe,EAAC,GAAG;QAACC,KAAK,EAAC;;0BACpH,MAAwF,CAAxFX,aAAwFY;UAA3EC,EAAE,EAAC,SAAS;sBAAUX,SAAG;qEAAHA,SAAG;UAAGY,OAAO,EAAEZ,UAAI;UAAES,KAAK,EAAC;;;;;;;sBALrCI,eAAQ","names":["_createBlock","_component_BCard","title","_createVNode","_component_BAlert","$data","variant","show","_component_BOverlay","opacity","rounded","notitle","_component_BFormGroup","label","class","_component_BFormSelect","id","options","$props"],"sourceRoot":"","sources":["/homes/tom/Workspaces/java/tcu-monitor/src/main/vue/src/components/TcuSetup.vue"],"sourcesContent":["<template>\n  <BCard title=\"TCU Setup\" v-show=\"showPage\" >\n    <BAlert :model-value=\"retrieveResult !== ''\" :variant=\"errmsg\" show>{{ retrieveResult }}</BAlert>\n    <BOverlay :show=\"loading\" variant=\"light\" opacity=\"0.6\" rounded=\"sm\"></BOverlay>\n    <BCard notitle>\n        <BFormGroup label-cols-sm=\"5\" label-align-sm=\"end\" label=\"Kies de TCU:\" label-for=\"input-1\" content-cols-sm=\"2\" class=\"text-size\">\n          <BFormSelect id=\"input-1\" v-model=\"tcu\" :options=\"tcus\" class=\"text-size\"></BFormSelect>\n        </BFormGroup>\n      </BCard>\n  </BCard>\n</template>\n\n<style>\n.text-size {\n  font-size: 18px;\n}\n</style>\n<script>\n\nexport default {\n  components: {\n    \n  },\n  name: 'SetupPage',\n  props: ['showPage'],\n  data() {\n    return {\n      loading: false,\n      errmsg: '',\n      retrieveResult: '',\n      config:{tcu:[]},\n      tcus:[{value:{name:'',ipaddress:''},text:''}],\n      tcu:{name:'',ipaddress:''},\n      devices:[],\n    }\n  },\n  computed: {\n  },\n  methods: {\n    getTcus() {\n      this.tcus = [];\n      for (var t of this.config.tcu) {\n        this.tcus.push({value:{name:t.name,ipaddress:t.ipaddress},text:t.name});\n      }\n    },\n    getProperties() {\n      this.loading = true;\n      this.axios.post(\"/api/command\", {\n        command: \"getProperties\",\n        data: {ipaddress:this.tcu.ipaddress}\n      })\n      .then(response => {\n        var f = response.data;\n        if (f.error !== undefined) {\n          this.errmsg = \"danger\";\n          this.retrieveResult = f.error;\n        } else {\n          this.devices = [];\n          for (var dev of f.devices) {\n            this.devices.push(dev.device);\n          }\n        }\n        this.loading = false;\n      })\n      .catch(error => {\n        this.retrieveResult = error.message;\n        this.errmsg = \"danger\";\n        this.loading = false;\n      });\n    },\n    getTimers() {\n      this.loading = true;\n      this.axios.post(\"/api/command\", {\n        command: \"getTimers\",\n        data: {ipaddress:this.tcu.ipaddress}\n      })\n      .then(response => {\n        var f = response.data;\n        if (f.error !== undefined) {\n          this.errmsg = \"danger\";\n          this.retrieveResult = f.error;\n        } else {\n          this.errmsg = \"success\";\n          this.retrieveResult = \"\";\n          console.log(f);\n        }\n        this.loading = false;\n      })\n      .catch(error => {\n        this.retrieveResult = error.message;\n        this.errmsg = \"danger\";\n        this.loading = false;\n      });\n    }\n  },\n  watch: {\n    tcu(newValue) {\n      if (newValue != undefined) {\n        this.getTimers();\n      }\n    },\n  },\n  mounted() {\n    this.emitter.on('config', cfg => {\n        this.config = cfg;\n        this.getTcus();\n      }\n    );\n  }\n}\n\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}