{"ast":null,"code":"export default {\n  components: {},\n  name: 'ConfigPage',\n  props: ['showPage'],\n  data() {\n    return {\n      loading: false,\n      errmsg: '',\n      retrieveResult: '',\n      config: {}\n    };\n  },\n  computed: {\n    validateIP() {\n      var ip = String(this.config.ipaddress);\n      var ipsegs = ip.split(\".\");\n      if (ipsegs != 4) {\n        return false;\n      }\n      for (var seg of ipsegs) {\n        if (String(seg).match(\"^[0-9]{1,3}$\") == null) return false;\n      }\n      return true;\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.emitter.emit(\"config\", this.config);\n      this.axios.post(\"/api/command\", {\n        command: \"saveConfig\",\n        data: this.config\n      }).then(response => {\n        var f = response.data;\n        if (f.error !== undefined) {\n          this.errmsg = \"danger\";\n          this.retrieveResult = f.error;\n        } else {\n          this.errmsg = \"success\";\n          this.retrieveResult = \"Configuration saved.\";\n        }\n        this.loading = false;\n      }).catch(error => {\n        this.retrieveResult = error.message;\n        this.errmsg = \"danger\";\n        this.loading = false;\n      });\n    }\n  },\n  watch: {},\n  mounted() {}\n};","map":{"version":3,"mappings":"AAuBA,eAAe;EACbA,UAAU,EAAE,CAEZ,CAAC;EACDC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE,EAAE;MACVC,cAAc,EAAE,EAAE;MAClBC,MAAM,EAAC,CAAC;IACV;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAU,GAAG;MACX,IAAIC,EAAC,GAAIC,MAAM,CAAC,IAAI,CAACJ,MAAM,CAACK,SAAS,CAAC;MACtC,IAAIC,MAAK,GAAIH,EAAE,CAACI,KAAK,CAAC,GAAG,CAAC;MAC1B,IAAID,MAAK,IAAK,CAAC,EAAE;QACf,OAAO,KAAK;MACd;MACA,KAAK,IAAIE,GAAE,IAAKF,MAAM,EAAE;QACtB,IAAIF,MAAM,CAACI,GAAG,CAAC,CAACC,KAAK,CAAC,cAAc,KAAK,IAAG,EAAI,OAAO,KAAK;MAC9D;MACA,OAAO,IAAI;IACb;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQ,GAAG;MACT,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAACb,MAAM,CAAC;MACxC,IAAI,CAACc,KAAK,CAACC,IAAI,CAAC,cAAc,EAAE;QAC9BC,OAAO,EAAE,YAAY;QACrBpB,IAAI,EAAE,IAAI,CAACI;MACb,CAAC,EACAiB,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIC,IAAID,QAAQ,CAACtB,IAAI;QACrB,IAAIuB,CAAC,CAACC,KAAI,KAAMC,SAAS,EAAE;UACzB,IAAI,CAACvB,MAAK,GAAI,QAAQ;UACtB,IAAI,CAACC,cAAa,GAAIoB,CAAC,CAACC,KAAK;QAC/B,OAAO;UACL,IAAI,CAACtB,MAAK,GAAI,SAAS;UACvB,IAAI,CAACC,cAAa,GAAI,sBAAsB;QAC9C;QACA,IAAI,CAACF,OAAM,GAAI,KAAK;MACtB,CAAC,EACAyB,KAAK,CAACF,KAAI,IAAK;QACd,IAAI,CAACrB,cAAa,GAAIqB,KAAK,CAACG,OAAO;QACnC,IAAI,CAACzB,MAAK,GAAI,QAAQ;QACtB,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACJ;EACF,CAAC;EACD2B,KAAK,EAAE,CACP,CAAC;EACDC,OAAO,GAAG,CACV;AACF","names":["components","name","props","data","loading","errmsg","retrieveResult","config","computed","validateIP","ip","String","ipaddress","ipsegs","split","seg","match","methods","onSubmit","emitter","emit","axios","post","command","then","response","f","error","undefined","catch","message","watch","mounted"],"sourceRoot":"","sources":["/homes/tom/Workspaces/java/tcu-monitor/src/main/vue/src/components/Configuration.vue"],"sourcesContent":["<template>\n  <BCard title=\"Configuration\" v-show=\"showPage\">\n    <BAlert :model-value=\"retrieveResult !== ''\" :variant=\"errmsg\" show>{{ retrieveResult }}</BAlert>\n    <BOverlay :show=\"loading\" variant=\"light\" opacity=\"0.6\" rounded=\"sm\"></BOverlay>\n    <BForm @submit=\"onSubmit\">\n      <BFormGroup id=\"input-group-1\" label=\"IP address of TCU:\" label-for=\"input-1\">\n        <BFormInput id=\"input-1\" v-model=\"config.ipaddress\" :state=\"validateIP\" placeholder=\"192.168.xxx.xxx\" required/>\n        <BFormInvalidFeedback id=\"input-live-feedback\">\n          IP address consist of 4 segments of max 3 digits separated by a .\n        </BFormInvalidFeedback>\n      </BFormGroup>\n      <BButton type=\"submit\" variant=\"primary\">Save</BButton>\n    </BForm>\n  </BCard>\n</template>\n\n<style>\n.text-size {\n  font-size: 14px;\n }\n</style>\n<script>\n\nexport default {\n  components: {\n    \n  },\n  name: 'ConfigPage',\n  props: ['showPage'],\n  data() {\n    return {\n      loading: false,\n      errmsg: '',\n      retrieveResult: '',\n      config:{}\n    }\n  },\n  computed: {\n    validateIP() {\n      var ip = String(this.config.ipaddress);\n      var ipsegs = ip.split(\".\");\n      if (ipsegs != 4) {\n        return false;\n      }\n      for (var seg of ipsegs) {\n        if (String(seg).match(\"^[0-9]{1,3}$\") == null ) return false;\n      }\n      return true;\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.emitter.emit(\"config\", this.config);\n      this.axios.post(\"/api/command\", {\n        command: \"saveConfig\",\n        data: this.config\n      })\n      .then(response => {\n        var f = response.data;\n        if (f.error !== undefined) {\n          this.errmsg = \"danger\";\n          this.retrieveResult = f.error;\n        } else {\n          this.errmsg = \"success\";\n          this.retrieveResult = \"Configuration saved.\";\n        }\n        this.loading = false;\n      })\n      .catch(error => {\n        this.retrieveResult = error.message;\n        this.errmsg = \"danger\";\n        this.loading = false;\n      });\n    }\n  },\n  watch: {\n  },\n  mounted() {\n  },\n}\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}