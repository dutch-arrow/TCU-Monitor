{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TcuSetup from './TcuSetup.vue';\nimport Graphs from './Graphs.vue';\nexport default {\n  components: {\n    TcuSetup,\n    Graphs\n  },\n  name: 'HomePage',\n  props: ['showPage'],\n  data() {\n    return {\n      loading: false,\n      errmsg: '',\n      retrieveResult: '',\n      tcus: [],\n      tcu: {\n        name: '',\n        ipaddress: ''\n      }\n    };\n  },\n  methods: {\n    getTcus() {\n      console.log(\"TCUs:\", this.config.tcu);\n      this.tcus = [];\n      for (var t of this.config.tcu) {\n        this.tcus.push({\n          value: {\n            name: t.name,\n            ipaddress: t.ipaddress\n          },\n          text: t.name\n        });\n      }\n    }\n  },\n  watch: {\n    tcu(newValue) {\n      if (newValue != undefined) {\n        this.emitter.emit(\"newtcu\", newValue);\n      }\n    }\n  },\n  mounted() {\n    this.emitter.on('config', cfg => {\n      console.log(\"Home page received 'config' message: \", cfg);\n      this.config = cfg;\n      this.showGraph = false;\n      this.getTcus();\n    });\n    this.showGraph = false;\n  }\n};","map":{"version":3,"mappings":";AAwBA,OAAOA,QAAO,MAAO,gBAAe;AACpC,OAAOC,MAAK,MAAO,cAAa;AAEhC,eAAe;EACbC,UAAU,EAAE;IACVF,QAAQ;IACRC;EACF,CAAC;EACDE,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE,EAAE;MACVC,cAAc,EAAE,EAAE;MAClBC,IAAI,EAAC,EAAE;MACPC,GAAG,EAAE;QAACP,IAAI,EAAC,EAAE;QAAEQ,SAAS,EAAC;MAAE;IAC7B;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAO,GAAG;MACRC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACN,GAAG,CAAC;MACrC,IAAI,CAACD,IAAG,GAAI,EAAE;MACd,KAAK,IAAIQ,KAAK,IAAI,CAACD,MAAM,CAACN,GAAG,EAAE;QAC7B,IAAI,CAACD,IAAI,CAACS,IAAI,CAAC;UAACC,KAAK,EAAC;YAAChB,IAAI,EAACc,CAAC,CAACd,IAAI;YAACQ,SAAS,EAACM,CAAC,CAACN;UAAS,CAAC;UAACS,IAAI,EAACH,CAAC,CAACd;QAAI,CAAC,CAAC;MACzE;IACF;EACF,CAAC;EACDkB,KAAK,EAAE;IACLX,GAAG,CAACY,QAAQ,EAAE;MACZ,IAAIA,QAAO,IAAKC,SAAS,EAAE;QACzB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,EAAEH,QAAQ,CAAC;MACvC;IACF;EACF,CAAC;EACDI,OAAO,GAAG;IACR,IAAI,CAACF,OAAO,CAACG,EAAE,CAAC,QAAQ,EAAEC,GAAE,IAAK;MAC7Bd,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEa,GAAG,CAAC;MACzD,IAAI,CAACZ,MAAK,GAAIY,GAAG;MACjB,IAAI,CAACC,SAAQ,GAAI,KAAK;MACtB,IAAI,CAAChB,OAAO,EAAE;IAChB,EACD;IACD,IAAI,CAACgB,SAAQ,GAAI,KAAK;EACxB;AACF","names":["TcuSetup","Graphs","components","name","props","data","loading","errmsg","retrieveResult","tcus","tcu","ipaddress","methods","getTcus","console","log","config","t","push","value","text","watch","newValue","undefined","emitter","emit","mounted","on","cfg","showGraph"],"sourceRoot":"","sources":["/homes/tom/Workspaces/java/tcu-monitor/src/main/vue/src/components/Home.vue"],"sourcesContent":["<template>\n  <BCard notitle v-show=\"showPage\">\n    <BAlert :model-value=\"retrieveResult !== ''\" :variant=\"errmsg\" show>{{ retrieveResult }}</BAlert>\n    <BOverlay :show=\"loading\" variant=\"light\" opacity=\"0.6\" rounded=\"sm\"></BOverlay>\n    <BFormGroup label-cols-sm=\"5\" label-align-sm=\"end\" label=\"Kies de TCU:\" label-for=\"input-1\" content-cols-sm=\"2\" class=\"text-size\">\n      <BFormSelect id=\"input-1\" v-model=\"tcu\" :options=\"tcus\" class=\"text-size\"></BFormSelect>\n    </BFormGroup>\n  </BCard>\n  <BCard no-body>\n    <BTabs card content-class=\"mt-3\" fill>\n      <BTab title=\"Timers setup\" active>\n        <TcuSetup></TcuSetup>\n      </BTab>\n      <BTab title=\"History Graphs\">\n        <Graphs></Graphs>\n      </BTab>\n    </BTabs>\n  </BCard>\n</template>\n\n<style>\n</style>\n\n<script>\nimport TcuSetup from './TcuSetup.vue'\nimport Graphs from './Graphs.vue'\n\nexport default {\n  components: {\n    TcuSetup,\n    Graphs,\n  },\n  name: 'HomePage',\n  props: ['showPage'],\n  data() {\n    return {\n      loading: false,\n      errmsg: '',\n      retrieveResult: '',\n      tcus:[],\n      tcu: {name:'', ipaddress:''}\n    }\n  },\n  methods: {\n    getTcus() {\n      console.log(\"TCUs:\", this.config.tcu);\n      this.tcus = [];\n      for (var t of this.config.tcu) {\n        this.tcus.push({value:{name:t.name,ipaddress:t.ipaddress},text:t.name});\n      }\n    },\n  },\n  watch: {\n    tcu(newValue) {\n      if (newValue != undefined) {\n        this.emitter.emit(\"newtcu\", newValue);\n      }\n    },\n  },\n  mounted() {\n    this.emitter.on('config', cfg => {\n        console.log(\"Home page received 'config' message: \", cfg);\n        this.config = cfg;\n        this.showGraph = false;\n        this.getTcus();\n      }\n    );\n    this.showGraph = false;\n  },\n}\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}