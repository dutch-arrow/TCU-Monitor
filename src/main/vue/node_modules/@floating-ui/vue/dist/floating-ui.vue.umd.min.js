!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@floating-ui/dom"),require("vue-demi")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","vue-demi"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIVue={},e.FloatingUIDOM,e.VueDemi)}(this,(function(e,n,t){"use strict";function l(e){var n;return null!=(n=null==e?void 0:e.$el)?n:e}function u(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function o(e,n){const t=u(e);return Math.round(n*t)/t}e.arrow=function(e){return{name:"arrow",options:e,fn(u){const o=l(t.unref(e.element));return null==o?{}:n.arrow({element:o,padding:e.padding}).fn(u)}}},e.useFloating=function(e,a,r){void 0===r&&(r={});const i=r.whileElementsMounted,f=t.computed((()=>{var e;return null==(e=t.unref(r.open))||e})),d=t.computed((()=>t.unref(r.middleware))),s=t.computed((()=>{var e;return null!=(e=t.unref(r.placement))?e:"bottom"})),c=t.computed((()=>{var e;return null!=(e=t.unref(r.strategy))?e:"absolute"})),v=t.computed((()=>{var e;return null==(e=t.unref(r.transform))||e})),p=t.computed((()=>l(e.value))),m=t.computed((()=>l(a.value))),w=t.ref(0),y=t.ref(0),h=t.ref(c.value),g=t.ref(s.value),x=t.shallowRef({}),b=t.ref(!1),R=t.computed((()=>{const e={position:h.value,left:"0",top:"0"};if(!m.value)return e;const n=o(m.value,w.value),t=o(m.value,y.value);return v.value?{...e,transform:"translate("+n+"px, "+t+"px)",...u(m.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:n+"px",top:t+"px"}}));let D;function P(){null!=p.value&&null!=m.value&&n.computePosition(p.value,m.value,{middleware:d.value,placement:s.value,strategy:c.value}).then((e=>{w.value=e.x,y.value=e.y,h.value=e.strategy,g.value=e.placement,x.value=e.middlewareData,b.value=!0}))}function O(){"function"==typeof D&&(D(),D=void 0)}return t.watch([d,s,c],P,{flush:"sync"}),t.watch([p,m],(function(){O(),void 0!==i?null==p.value||null==m.value||(D=i(p.value,m.value,P)):P()}),{flush:"sync"}),t.watch(f,(function(){f.value||(b.value=!1)}),{flush:"sync"}),t.getCurrentScope()&&t.onScopeDispose(O),{x:t.shallowReadonly(w),y:t.shallowReadonly(y),strategy:t.shallowReadonly(h),placement:t.shallowReadonly(g),middlewareData:t.shallowReadonly(x),isPositioned:t.shallowReadonly(b),floatingStyles:R,update:P}},Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
